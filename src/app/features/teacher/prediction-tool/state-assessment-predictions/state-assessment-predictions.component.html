<app-header></app-header>

<div class="min-h-screen pt-10 bg-custom-bg">

  <div class="page-layout-container">
    <app-sidebar title="Quick Links" [menuItems]="sidebarMenuItems" [useCustomIcons]="true">

    </app-sidebar>

    <!-- Main Content -->
    <main class="flex-1 space-y-6 pt-4">
      <div *ngIf="isLoading" class="flex justify-center items-center h-64">
        <span class="material-icons animate-spin text-3xl text-orange-500">autorenew</span>
        <span class="ml-2 text-orange-500 font-semibold">Loading student data...</span>
      </div>
        <div style="display: none;">Loading state: {{isLoading}}</div>
<ng-container *ngIf="!isLoading; else loadingOrError">
      <h1 class="page-title">State Assessment Predictions</h1>

      <main class="p-6 space-y-6">
        <app-state-assessment-predictions-student-information [student]="student" [title]="title"></app-state-assessment-predictions-student-information>



        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Math Section -->
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="text-gray-800 font-bold mb-4">Math State Assessment Prediction</h3>
            <div class="flex items-center justify-between mb-2">
              <span class="text-green-600 text-2xl font-bold">87%</span>
              <span class="text-blue-700 text-xl font-semibold">Level 4</span>
            </div>
            <p class="text-gray-500 text-sm mb-4">Likelihood of Meeting Standards &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
              Predicted Performance Level</p>
            <h4 class="font-semibold text-gray-700 mb-2">Contributing Factors</h4>
            <ul class="space-y-1 text-sm">
              <li class="bg-green-100 px-3 py-1 rounded flex justify-between">Current Math Grade <span
                  class="font-semibold">92%</span></li>
              <li class="bg-green-100 px-3 py-1 rounded flex justify-between">Quiz Average <span
                  class="font-semibold">88%</span></li>
              <li class="bg-red-100 px-3 py-1 rounded flex justify-between">Practice Test Score <span
                  class="font-semibold">75%</span></li>
            </ul>
          </div>

          <!-- ELA Section -->
          <div class="bg-white p-6 rounded-lg shadow">
            <h3 class="text-gray-800 font-bold mb-4">ELA State Assessment Prediction</h3>
            <div class="flex items-center justify-between mb-2">
              <span class="text-yellow-500 text-2xl font-bold">73%</span>
              <span class="text-yellow-600 text-xl font-semibold">Level 3</span>
            </div>
            <p class="text-gray-500 text-sm mb-4">Likelihood of Meeting Standards &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
              Predicted Performance Level</p>
            <h4 class="font-semibold text-gray-700 mb-2">Contributing Factors</h4>
            <ul class="space-y-1 text-sm">
              <li class="bg-green-100 px-3 py-1 rounded flex justify-between">Current ELA Grade <span
                  class="font-semibold">94%</span></li>
              <li class="bg-red-100 px-3 py-1 rounded flex justify-between">Writing Assessment <span
                  class="font-semibold">70%</span></li>
              <li class="bg-red-100 px-3 py-1 rounded flex justify-between">Reading Comprehension <span
                  class="font-semibold">68%</span></li>
            </ul>
          </div>
        </div>


        <div>
          <h4 class="font-bold mb-4">Recommended Actions</h4>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Math Focus -->
            <div class="bg-white p-4 rounded-lg shadow">
              <h5 class="text-lg text-blue-600 font-semibold mb-1 mt-0 flex items-center">
                <mat-icon class="mr-2 text-blue-600">calculate</mat-icon>
                Math Focus Areas
              </h5>
            
              <div class="text-sm space-y-2">
                <div class="flex items-center">
                  <mat-icon class="text-green-600 mr-2 align-middle">check_circle</mat-icon>
                  Continue strong performance in current coursework
                </div>
                <div class="flex items-center">
                  <mat-icon class="text-red-500 mr-2 align-middle">info</mat-icon>
                  Increase practice test preparation
                </div>
              </div>
            </div>
  
            <!-- ELA Focus -->

            <div class="bg-white p-4 rounded-lg shadow border-4 border-yellow-500">
              <h5 class="text-lg text-blue-600 font-semibold mb-1 mt-0 flex items-center">
                <mat-icon class="mr-2 text-blue-600">menu_book</mat-icon>
                ELA Focus Areas
              </h5>
              
              <div class="text-sm space-y-2">
                <div class="flex items-center">
                  <mat-icon class="text-red-500 mr-2 align-middle">info</mat-icon>
                  Focus on reading comprehension strategies
                </div>
                <div class="flex items-center">
                  <mat-icon class="text-red-500 mr-2 align-middle">info</mat-icon>
                  Additional writing practice needed
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </main>
      </ng-container>
       <ng-template #loadingOrError>
                <div *ngIf="isLoading" class="loading-container">
                    <mat-spinner diameter="100"></mat-spinner>
                    <p>Loading teachers behavior data...</p>
                </div>
                </ng-template>
    </main>
  </div>
</div>